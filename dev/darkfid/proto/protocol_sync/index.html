<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Validator blockchain sync protocol"><title>darkfid::proto::protocol_sync - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="darkfid" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module protocol_sync</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../darkfid/index.html">darkfid</a><span class="version">0.5.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module protocol_<wbr>sync</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#constants" title="Constants">Constants</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In darkfid::<wbr>proto</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">darkfid</a>::<wbr><a href="../index.html">proto</a></div><h1>Module <span>protocol_<wbr>sync</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/darkfid/proto/protocol_sync.rs.html#19-979">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Validator blockchain sync protocol</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="struct" href="struct.ForkHeaderHashRequest.html" title="struct darkfid::proto::protocol_sync::ForkHeaderHashRequest">Fork<wbr>Header<wbr>Hash<wbr>Request</a></dt><dd>Structure represening a request to ask a node a fork header for the
requested height. The fork is identified by the provided header hash.</dd><dt><a class="struct" href="struct.ForkHeaderHashResponse.html" title="struct darkfid::proto::protocol_sync::ForkHeaderHashResponse">Fork<wbr>Header<wbr>Hash<wbr>Response</a></dt><dd>Structure representing the response to <code>ForkHeaderHashRequest</code>,
containing the requested fork header hash, if it was found.</dd><dt><a class="struct" href="struct.ForkHeadersRequest.html" title="struct darkfid::proto::protocol_sync::ForkHeadersRequest">Fork<wbr>Headers<wbr>Request</a></dt><dd>Structure represening a request to ask a node for up to <code>BATCH</code>
fork headers for provided header hashes.  The fork is identified
by the provided header hash.</dd><dt><a class="struct" href="struct.ForkHeadersResponse.html" title="struct darkfid::proto::protocol_sync::ForkHeadersResponse">Fork<wbr>Headers<wbr>Response</a></dt><dd>Structure representing the response to <code>ForkHeadersRequest</code>,
containing up to <code>BATCH</code> fork headers.</dd><dt><a class="struct" href="struct.ForkProposalsRequest.html" title="struct darkfid::proto::protocol_sync::ForkProposalsRequest">Fork<wbr>Proposals<wbr>Request</a></dt><dd>Structure represening a request to ask a node for up to <code>BATCH</code>
fork proposals for provided header hashes.  The fork is identified
by the provided header hash.</dd><dt><a class="struct" href="struct.ForkProposalsResponse.html" title="struct darkfid::proto::protocol_sync::ForkProposalsResponse">Fork<wbr>Proposals<wbr>Response</a></dt><dd>Structure representing the response to <code>ForkProposalsRequest</code>,
containing up to <code>BATCH</code> fork headers.</dd><dt><a class="struct" href="struct.ForkSyncRequest.html" title="struct darkfid::proto::protocol_sync::ForkSyncRequest">Fork<wbr>Sync<wbr>Request</a></dt><dd>Structure represening a request to ask a node a fork sequence.
If we include a specific fork tip, they have to return its sequence,
otherwise they respond with their best fork sequence.
We also include our own canonical(confirmed) tip, so they can verify
we follow the same sequence.</dd><dt><a class="struct" href="struct.ForkSyncResponse.html" title="struct darkfid::proto::protocol_sync::ForkSyncResponse">Fork<wbr>Sync<wbr>Response</a></dt><dd>Structure representing the response to <code>ForkSyncRequest</code>,
containing the requested fork sequence, up to <code>BATCH</code> proposals.</dd><dt><a class="struct" href="struct.HeaderSyncRequest.html" title="struct darkfid::proto::protocol_sync::HeaderSyncRequest">Header<wbr>Sync<wbr>Request</a></dt><dd>Structure represening a request to ask a node for up to <code>BATCH</code> headers before
the provided header height.</dd><dt><a class="struct" href="struct.HeaderSyncResponse.html" title="struct darkfid::proto::protocol_sync::HeaderSyncResponse">Header<wbr>Sync<wbr>Response</a></dt><dd>Structure representing the response to <code>HeaderSyncRequest</code>,
containing up to <code>BATCH</code> headers before the requested block height.</dd><dt><a class="struct" href="struct.ProtocolSyncHandler.html" title="struct darkfid::proto::protocol_sync::ProtocolSyncHandler">Protocol<wbr>Sync<wbr>Handler</a></dt><dd>Handler managing all <code>ProtocolSync</code> messages, over generic P2P protocols.</dd><dt><a class="struct" href="struct.SyncRequest.html" title="struct darkfid::proto::protocol_sync::SyncRequest">Sync<wbr>Request</a></dt><dd>Structure represening a request to ask a node for up to<code>BATCH</code> blocks
of provided headers.</dd><dt><a class="struct" href="struct.SyncResponse.html" title="struct darkfid::proto::protocol_sync::SyncResponse">Sync<wbr>Response</a></dt><dd>Structure representing the response to <code>SyncRequest</code>,
containing up to <code>BATCH</code> blocks after the requested block height.</dd><dt><a class="struct" href="struct.TipRequest.html" title="struct darkfid::proto::protocol_sync::TipRequest">TipRequest</a></dt><dd>Structure represening a request to ask a node for their current
canonical(confirmed) tip block hash, if they are synced. We also
include our own tip, so they can verify we follow the same sequence.</dd><dt><a class="struct" href="struct.TipResponse.html" title="struct darkfid::proto::protocol_sync::TipResponse">TipResponse</a></dt><dd>Structure representing the response to <code>TipRequest</code>,
containing a boolean flag to indicate if we are synced,
and our canonical(confirmed) tip block height and hash.</dd></dl><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="constant" href="constant.BATCH.html" title="constant darkfid::proto::protocol_sync::BATCH">BATCH</a></dt><dt><a class="constant" href="constant.PROTOCOL_SYNC_METERING_CONFIGURATION.html" title="constant darkfid::proto::protocol_sync::PROTOCOL_SYNC_METERING_CONFIGURATION">PROTOCOL_<wbr>SYNC_<wbr>METERING_<wbr>CONFIGURATION</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.handle_receive_fork_header_hash_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_header_hash_request">handle_<wbr>receive_<wbr>fork_<wbr>header_<wbr>hash_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSyncForkHeaderHash.</dd><dt><a class="fn" href="fn.handle_receive_fork_headers_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_headers_request">handle_<wbr>receive_<wbr>fork_<wbr>headers_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSyncForkHeaders.</dd><dt><a class="fn" href="fn.handle_receive_fork_proposals_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_proposals_request">handle_<wbr>receive_<wbr>fork_<wbr>proposals_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSyncForkProposals.</dd><dt><a class="fn" href="fn.handle_receive_fork_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_fork_request">handle_<wbr>receive_<wbr>fork_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSyncFork.</dd><dt><a class="fn" href="fn.handle_receive_header_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_header_request">handle_<wbr>receive_<wbr>header_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSyncHeader.</dd><dt><a class="fn" href="fn.handle_receive_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_request">handle_<wbr>receive_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSync.</dd><dt><a class="fn" href="fn.handle_receive_tip_request.html" title="fn darkfid::proto::protocol_sync::handle_receive_tip_request">handle_<wbr>receive_<wbr>tip_<wbr>request</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </dt><dd>Background handler function for ProtocolSyncTip.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><dl class="item-table"><dt><a class="type" href="type.ProtocolSyncHandlerPtr.html" title="type darkfid::proto::protocol_sync::ProtocolSyncHandlerPtr">Protocol<wbr>Sync<wbr>Handler<wbr>Ptr</a></dt><dd>Atomic pointer to the <code>ProtocolSync</code> handler.</dd></dl></section></div></main></body></html>